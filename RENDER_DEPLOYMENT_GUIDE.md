# 🚀 Smart Rental Tracker - Render Deployment Guide

This guide will walk you through deploying your Smart Rental Tracker application on Render, a modern cloud platform that offers free hosting for web applications.

## 📋 Prerequisites

- A GitHub account with your code repository
- A Render account (free at [render.com](https://render.com))

## 🏗️ Application Architecture

Your application consists of two main services:
1. **Backend API** - FastAPI Python service
2. **Frontend** - Next.js React application

## 📁 Files Created for Deployment

- `render.yaml` - Main deployment configuration
- `backend/config.env.production` - Production environment variables
- `backend/requirements.render.txt` - Production Python dependencies
- `backend/start_production.py` - Production startup script
- `frontend/build_production.sh` - Frontend build script

## 🚀 Step-by-Step Deployment

### Step 1: Push Code to GitHub

1. Commit and push all the new deployment files to your GitHub repository:
```bash
git add .
git commit -m "Add Render deployment configuration"
git push origin main
```

### Step 2: Connect to Render

1. Go to [render.com](https://render.com) and sign up/login
2. Click "New +" and select "Blueprint"
3. Connect your GitHub account and select your repository
4. Render will automatically detect the `render.yaml` file

### Step 3: Deploy Backend API

1. **Service Name**: `smart-rental-tracker-api`
2. **Environment**: Python
3. **Build Command**: `cd backend && pip install -r requirements.render.txt`
4. **Start Command**: `cd backend && python start_production.py`
5. **Plan**: Free

**Environment Variables** (auto-configured):
- `PYTHON_VERSION`: 3.9.16
- `DATABASE_URL`: sqlite:///./rental.db
- `HOST`: 0.0.0.0
- `DEBUG`: false
- `SECRET_KEY`: (auto-generated)
- `ALLOWED_ORIGINS`: https://smart-rental-tracker-frontend.onrender.com

### Step 4: Deploy Frontend

1. **Service Name**: `smart-rental-tracker-frontend`
2. **Environment**: Static Site
3. **Build Command**: `cd frontend && npm install && npm run build`
4. **Publish Directory**: `frontend/.next`
5. **Plan**: Free

**Environment Variables**:
- `NODE_VERSION`: 18.17.0
- `NEXT_PUBLIC_API_URL`: https://smart-rental-tracker-api.onrender.com

### Step 5: Configure CORS

The backend is already configured to allow requests from your Render frontend domain.

## 🔧 Manual Configuration (Alternative)

If you prefer to deploy services individually:

### Backend API Service

1. Create new **Web Service**
2. **Build Command**: `cd backend && pip install -r requirements.render.txt`
3. **Start Command**: `cd backend && python start_production.py`
4. Set environment variables manually

### Frontend Service

1. Create new **Static Site**
2. **Build Command**: `cd frontend && npm install && npm run build`
3. **Publish Directory**: `frontend/.next`

## 🌐 Environment Variables

### Backend Required Variables

```bash
DATABASE_URL=sqlite:///./rental.db
HOST=0.0.0.0
PORT=${PORT}  # Render sets this automatically
DEBUG=false
SECRET_KEY=${SECRET_KEY}  # Render generates this
ALLOWED_ORIGINS=https://your-frontend-domain.onrender.com
```

### Frontend Required Variables

```bash
NEXT_PUBLIC_API_URL=https://your-backend-domain.onrender.com
```

## 📊 Monitoring & Logs

- **Backend Logs**: Available in Render dashboard under your API service
- **Frontend Logs**: Build logs available during deployment
- **Health Check**: Backend includes `/health` endpoint

## 🔄 Updating Your Application

1. Push changes to GitHub
2. Render automatically redeploys (if auto-deploy is enabled)
3. Or manually trigger redeploy from Render dashboard

## 🚨 Troubleshooting

### Common Issues

1. **Build Failures**
   - Check build logs in Render dashboard
   - Verify all dependencies are in requirements files
   - Ensure Python/Node versions are compatible

2. **CORS Errors**
   - Verify `ALLOWED_ORIGINS` includes your frontend URL
   - Check backend CORS configuration

3. **Database Issues**
   - SQLite database is included in deployment
   - For production, consider using PostgreSQL (Render offers this)

4. **Port Configuration**
   - Backend automatically uses `$PORT` environment variable
   - Frontend is static and doesn't need port configuration

### Debug Mode

To enable debug mode temporarily:
1. Set `DEBUG=true` in backend environment variables
2. Redeploy the service
3. Check logs for detailed error information

## 📈 Scaling Considerations

- **Free Plan Limits**: 750 hours/month, 512MB RAM
- **Upgrade Options**: 
  - Starter: $7/month, 1GB RAM, unlimited hours
  - Standard: $25/month, 2GB RAM, better performance

## 🔒 Security Notes

- `SECRET_KEY` is automatically generated by Render
- CORS is configured to only allow your frontend domain
- Debug mode is disabled in production
- Database file is included in deployment (consider external database for production)

## 📞 Support

- **Render Documentation**: [docs.render.com](https://docs.render.com)
- **Render Community**: [community.render.com](https://community.render.com)
- **Application Issues**: Check your application logs and error messages

## 🎉 Success!

Once deployed, your Smart Rental Tracker will be available at:
- **Frontend**: `https://smart-rental-tracker-frontend.onrender.com`
- **Backend API**: `https://smart-rental-tracker-api.onrender.com`

Your application is now running in the cloud with automatic deployments from GitHub! 🚀
